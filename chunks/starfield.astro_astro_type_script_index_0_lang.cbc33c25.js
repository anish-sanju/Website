class l{x;y;z;xPrev;yPrev;constructor(t=0,e=0,s=0){this.x=t,this.y=e,this.z=s,this.xPrev=t,this.yPrev=e}update(t,e,s){this.xPrev=this.x,this.yPrev=this.y,this.z+=s*.0675,this.x+=this.x*(s*.0225)*this.z,this.y+=this.y*(s*.0225)*this.z,(this.x>t/2||this.x<-t/2||this.y>e/2||this.y<-e/2)&&(this.x=Math.random()*t-t/2,this.y=Math.random()*e-e/2,this.xPrev=this.x,this.yPrev=this.y,this.z=0)}draw(t){t.lineWidth=this.z,t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.xPrev,this.yPrev),t.stroke()}}const a=Array.from({length:800},()=>new l(0,0,0));let n=0;const h=document.querySelector("#starfield-canvas"),r=h.getContext("2d"),o=document.querySelector("#starfield"),y=new ResizeObserver(d);y.observe(o);function d(){n>0&&cancelAnimationFrame(n);const{clientWidth:i,clientHeight:t}=o,e=window.devicePixelRatio||1;h.width=i*e,h.height=t*e,h.style.width=`${i}px`,h.style.height=`${t}px`,r.scale(e,e);for(const s of a)s.x=Math.random()*i-i/2,s.y=Math.random()*t-t/2,s.z=0;r.translate(i/2,t/2),r.fillStyle="rgba(0, 0, 0, 0.4)",r.strokeStyle="white",n=requestAnimationFrame(c)}function c(){const{clientWidth:i,clientHeight:t}=o;for(const e of a)e.update(i,t,.1),e.draw(r);r.fillRect(-i/2,-t/2,i,t),n=requestAnimationFrame(c)}
